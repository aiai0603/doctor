{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/LENOVO/Documents/doctor/final/pages/resident/details.vue?12f1","webpack:///C:/Users/LENOVO/Documents/doctor/final/pages/resident/details.vue?55ab","webpack:///C:/Users/LENOVO/Documents/doctor/final/pages/resident/details.vue?1583","uni-app:///pages/resident/details.vue","webpack:///C:/Users/LENOVO/Documents/doctor/final/pages/resident/details.vue?5c66","webpack:///C:/Users/LENOVO/Documents/doctor/final/pages/resident/details.vue?05fd"],"names":["createPage","Page"],"mappings":"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","file":"pages/resident/details.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/resident/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=e607a108&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/resident/details.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=template&id=e607a108&\"","var components\ntry {\n  components = {\n    uForm: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-avatar/u-avatar\" */ \"@/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    uGap: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-gap/u-gap\" */ \"@/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uUpload: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uPicker: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-picker/u-picker\" */ \"@/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showInfo = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showInfo = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.showSex = true\n    }\n\n    _vm.e3 = function($event) {\n      _vm.showBirthday = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!--表单-->\r\n\t\t<u-form :model=\"form\" ref=\"uForm\" label-width=\"200\" :label-style=\"labelStyle\">\r\n\t\t\t<view class=\"doctor\" :style=\"{ height: form.doctorId ? '200rpx': ''}\">\r\n\t\t\t\t<u-form-item label=\"诊断医生\" prop=\"doctor\" :required=\"true\" :border-bottom=\"false\" v-if=\"!form.doctor.name\" style=\"width: 100%;\">\r\n\t\t\t\t\t<view style=\"color: #ccc; float: right; margin-right: 30rpx;\" @click=\"chooseDoc()\">\r\n\t\t\t\t\t\t选择医生\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t    </u-form-item>\r\n\t\t\t\t<view class=\"doctor-info\" v-else>\r\n\t\t\t\t\t<view style=\"display: flex; flex-direction: row; padding: 20rpx 0;\">\r\n\t\t\t\t\t\t<u-avatar size=\"150\" :src=\"form.doctor.avatar\"></u-avatar>\r\n\t\t\t\t\t\t<view style=\"margin-left: 20rpx; height: 120rpx;\">\r\n\t\t\t\t\t\t\t<view style=\"display: flex; margin-top: 10rpx; flex-direction: row;\">\r\n\t\t\t\t\t\t\t\t<span style=\"font-weight: 700; font-size: 38rpx;\">{{ form.doctor.name }}</span>\r\n\t\t\t\t\t\t\t\t<u-tag type=\"warning\" :text=\"form.doctor.level\" shape=\"circle\" class=\"tag\"></u-tag>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"margin-top: 30rpx;\">{{ form.doctor.dept }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"color: #ccc; float: right;\" @click=\"chooseDoc()\">\r\n\t\t\t\t\t\t更换医生\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<u-gap height=\"20\" bg-color=\"#f2f2f2\"></u-gap>\r\n\t\t\t\r\n\t\t\t<u-form-item label=\"问诊人\" prop=\"patient\" :required=\"true\">\r\n\t\t\t\t<view style=\"margin-right: 30rpx;\" slot=\"right\" v-show=\"!form.patientInfo.name\" @click=\"showInfo = true;\">\r\n\t\t\t\t\t填写信息\r\n\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\r\n\t\t\t\t<view v-show=\"form.patientInfo.name\" style=\"margin-right: 30rpx; color: #000;\" slot=\"right\" @click=\"showInfo = true;\">{{ form.patientInfo.name }}&nbsp;{{ form.patientInfo.sex }}&nbsp;{{ form.patientInfo.age }}</view>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"确诊诊断\" prop=\"diagnosis\" :required=\"true\">\r\n\t\t\t\t<view style=\"margin-right: 30rpx;\" slot=\"right\" v-show=\"!form.diagnosis\" @click=\"chooseDi()\">\r\n\t\t\t\t\t选择诊断\r\n\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-show=\"form.diagnosis\" style=\"margin-right: 30rpx; color: #000;\" slot=\"right\" @click=\"chooseDi()\">{{ form.diagnosis }}</view>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"所需药品\" prop=\"drug\" :border-bottom=\"false\" :required=\"true\">\r\n\t\t\t\t<view style=\"margin-right: 30rpx;\" slot=\"right\" @click=\"addMedicine()\">\r\n\t\t\t\t\t添加药品\r\n\t\t\t\t\t<u-icon name=\"arrow-right\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</u-form-item>\r\n\t\t\t<view v-if=\"form.drugList.length != 0\" class=\"drug\">\r\n\t\t\t\t<block v-for=\"(item, index) in form.drugList\">\r\n\t\t\t\t\t<u-tag type=\"success\" :text=\"form.drugList[index].drugName\" style=\"margin: 20rpx 25rpx;\" :closeable=\"true\" @close=\"delTag(index)\"></u-tag>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<u-gap height=\"20\" bg-color=\"#f2f2f2\"></u-gap>\r\n\t\t\t\r\n\t\t\t<view style=\"display: flex; align-items: center; width: 100%; flex-direction: row;\">\r\n\t\t\t\t<view class=\"title-item\"></view>\r\n\t\t\t\t<u-form-item label=\"病情描述\" prop=\"describe\" style=\"width: 100%;\" :required=\"true\"></u-form-item>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 100%; display: flex; justify-content: center; flex-direction: row;\">\r\n\t\t\t\t<view style=\"width: 90%; margin-top: 20rpx;\">\r\n\t\t\t\t\t<u-input type=\"textarea\" :autoHeight=\"true\" :clearable=\"false\" v-model=\"form.value\" :placeholder=\"placeholder\" ></u-input>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<u-gap height=\"20\" bg-color=\"#f2f2f2\"></u-gap>\r\n\t\t\t\r\n\t\t\t<view style=\"display: flex; align-items: center; width: 100%; flex-direction: row;\">\r\n\t\t\t\t<view class=\"title-item\"></view>\r\n\t\t\t\t<u-form-item label=\"病情照片\" prop=\"photo\" style=\"width: 100%\" ></u-form-item>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"width: 100%; display: flex; align-items: center; margin-top: 30rpx; flex-direction: column;\">\r\n\t\t\t\t<view style=\"width: 90%;\">\r\n\t\t\t\t\t<u-upload ref=\"uUpload\" :auto-upload=\"false\" :deletable=\"deletable\" :action=\"action\" @on-uploaded=\"success\" @on-choose-complete=\"choose\" @on-remove=\"remove\"></u-upload>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"width: 85%; margin-top: 60rpx; color: #ccc; margin-bottom: 80rpx;\">\r\n\t\t\t\t\t<text space=\"emsp\">\r\n\t\t\t\t\t    {{ text }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-form>\r\n\t\t\r\n\t\t<u-button type=\"success\" style=\"height: 100rpx;\" @click=\"submit()\" v-if=\"!img\">提交信息</u-button>\r\n\t\t<u-button type=\"primary\" style=\"height: 100rpx;\" @click=\"saveImg()\" v-else>保存图片</u-button>\r\n\t\t\r\n\t\t<!--信息弹出层-->\r\n\t\t<u-popup v-model=\"showInfo\" mode=\"center\" width=\"90%\" height=\"60%\" border-radius=\"20\" :closeable=\"true\" @open=\"open\" @close=\"close\">\r\n\t\t\t<view class=\"infoForm\">\r\n\t\t\t\t<text style=\"margin: 30rpx 0; font-weight: 700; font-size: 35rpx;\">填写信息</text>\r\n\t\t\t\t<u-form :model=\"popupform\" ref=\"infoFrom\" label-align=\"left\" label-width=\"180\" :label-style=\"labelStyle\">\r\n\t\t\t\t\t<u-form-item label=\"姓名\" :required=\"true\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-input v-model=\"popupform.name\" :border=\"true\" class=\"form-item\" :clearable=\"false\" placeholder=\"请填写姓名\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"身份证号\" :required=\"true\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-input v-model=\"popupform.number\" :border=\"true\" class=\"form-item\" :clearable=\"false\" placeholder=\"请填写身份证号\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"性别\" :required=\"true\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-input type=\"select\" v-model=\"popupform.sex\" :border=\"true\" class=\"form-item\" placeholder=\"请选择性别\" @click=\"showSex = true\"></u-input>\r\n\t\t\t\t\t\t<u-picker v-model=\"showSex\" mode=\"selector\" :default-selector=\"[0]\" :range=\"selectorSex\" @confirm=\"confirmSex\"></u-picker>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"出生日期\" :required=\"true\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-input type=\"select\" v-model=\"popupform.birthday\" :border=\"true\" class=\"form-item\" placeholder=\"请填写出生日期\" @click=\"showBirthday = true\"></u-input>\r\n\t\t\t\t\t\t<u-picker v-model=\"showBirthday\" mode=\"time\" @confirm=\"confirmBirthday\"></u-picker>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item label=\"手机号\" :required=\"true\" :border-bottom=\"false\">\r\n\t\t\t\t\t\t<u-input type=\"number\" v-model=\"popupform.phone\" :border=\"true\" class=\"form-item\" :clearable=\"false\" placeholder=\"请填写手机号\"></u-input>\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</u-form>\r\n\t\t\t\t<u-button type=\"primary\" style=\"margin-top: 50rpx;\" @click=\"saveInfo()\">保存</u-button>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<u-modal v-model=\"showModal\" content=\"提交成功\" :show-title=\"false\" width=\"50%\" @confirm=\"confirm()\"></u-modal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { getAge } from '../../utils/age.js'\r\n\timport { request, showToast } from \"../../api/request.js\"\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdeletable: true,\r\n\t\t\t\timg: false,\r\n\t\t\t\tshowModal: false,\r\n\t\t\t\tuploadSuccess: false,\r\n\t\t\t\tshowInfo: false,\r\n\t\t\t\tshowSex: false,\r\n\t\t\t\tshowBirthday: false,\r\n\t\t\t\tplaceholder: '请准确描述病情,以便医生更好判断(不少于5个字)',\r\n\t\t\t\tlabelStyle: {\r\n\t\t\t\t\tfontSize: '30rpx',\r\n\t\t\t\t\tmarginLeft: '40rpx'\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tdoctor: {\r\n\t\t\t\t\t\tid: '',\r\n\t\t\t\t\t\tavatar: '',\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tlevel: '',\r\n\t\t\t\t\t\tdept: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpatientInfo: {\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tnumber: '',\r\n\t\t\t\t\t\tsex: '',\r\n\t\t\t\t\t\tage: '',\r\n\t\t\t\t\t\tbirthday: '',\r\n\t\t\t\t\t\tphone: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdiagnosis: '',\r\n\t\t\t\t\tdrugList: [],\r\n\t\t\t\t\tvalue: ''\r\n\t\t\t\t},\r\n\t\t\t\tpopupform: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tnumber: '',\r\n\t\t\t\t\tsex: '',\r\n\t\t\t\t\tage: '',\r\n\t\t\t\t\tbirthday: '',\r\n\t\t\t\t\tphone: ''\r\n\t\t\t\t},\r\n\t\t\t\ttext: '  请上传病情照片、化验单、检查资料、报告单、药品处方单,若为皮肤问题,建议对准患处拍摄。照片仅自己和医生可见',\r\n\t\t\t\tselectorSex: ['男', '女'],\r\n\t\t\t\taction: 'http://47.97.158.11:8088/api/upload',\r\n\t\t\t\tphotos: '',\r\n\t\t\t\tageInt: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\topen () {\r\n\t\t\t\tthis.placeholder = ''\r\n\t\t\t},\r\n\t\t\tclose () {\r\n\t\t\t\tthis.placeholder = '请准确描述病情,以便医生更好判断(不少于5个字)'\r\n\t\t\t},\r\n\t\t\tconfirmSex (index) {\r\n\t\t\t\tthis.popupform.sex = this.selectorSex[index]\r\n\t\t\t},\r\n\t\t\tconfirmBirthday (e) {\r\n\t\t\t\tthis.ageInt = getAge(e.year, e.month, e.day)\r\n\t\t\t\tthis.popupform.birthday = e.year + '-' + e.month + '-' + e.day\r\n\t\t\t\tthis.popupform.age = getAge(e.year, e.month, e.day) + '岁'\r\n\t\t\t},\r\n\t\t\tconfirm () {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: './residentIndex'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveInfo () {\r\n\t\t\t\tvar NameReg = /^[\\u4e00-\\u9fa5]{2,6}((·|•|‧|•|⋅|ㆍ|・|●)[\\u4e00-\\u9fa5]{1,6}){0,2}$/;\r\n\t\t\t\tvar IdReg =/(^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$)|(^[1-9]\\d{5}\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}$)/;\r\n                var PhoneReg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\r\n\t\t\t\t\r\n\t\t\t\tif(!NameReg.test(this.popupform.name)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请输入正确的姓名',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!IdReg.test(this.popupform.number)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请输入正确的身份证号',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!this.popupform.sex) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请选择性别',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!this.popupform.birthday) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请选择出生日期',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!PhoneReg.test(this.popupform.phone)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.patientInfo = JSON.parse(JSON.stringify(this.popupform)) /*深拷贝*/\r\n\t\t\t\t\tthis.showInfo = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddMedicine () {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './medicineList'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseDoc () {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './doctorList'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseDi () {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: './diagnosisList'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdelTag (index) {\r\n\t\t\t\tthis.form.drugList.splice(index, 1)\r\n\t\t\t},\r\n\t\t\tsubmit () {\r\n\t\t\t\tif (!this.form.doctor.id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请选择医生',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!this.form.patientInfo.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请填写信息',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!this.form.diagnosis) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请选择诊断',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.form.drugList.length == 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请选择药品',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.form.value.length < 5) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '病情至少需要5个字',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet ids = []\r\n\t\t\t\t\tlet names = []\r\n\t\t\t\t\tfor (var drug of this.form.drugList) {\r\n\t\t\t\t\t\tids.push(drug.drugId)\r\n\t\t\t\t\t\tnames.push(drug.drugName)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet drug_id = ids.join(',')\r\n\t\t\t\t\tlet drug_name = names.join(',')\r\n\t\t\t\t\tlet finalInfo = {\r\n\t\t\t\t\t\tdeptName: this.form.doctor.dept,\r\n\t\t\t\t\t\tdoctorId: this.form.doctor.id,\r\n\t\t\t\t\t\tdoctorName: this.form.doctor.name,\r\n\t\t\t\t\t\tdoctorLevelName: this.form.doctor.level,\r\n\t\t\t\t\t\tcreateUserId: uni.getStorageSync('userId'),\r\n\t\t\t\t\t\tpersonName: this.form.patientInfo.name,\r\n\t\t\t\t\t\tpersonCardType: '01',\r\n\t\t\t\t\t\tpersonCardId: this.form.patientInfo.number,\r\n\t\t\t\t\t\tpersonGenderName: this.form.patientInfo.sex,\r\n\t\t\t\t\t\tpersonBirthDate: this.form.patientInfo.birthday,\r\n\t\t\t\t\t\tpersonAge: this.ageInt,\r\n\t\t\t\t\t\tpersonPhoneNo: this.form.patientInfo.phone,\r\n\t\t\t\t\t\tquestion: this.form.value,\r\n\t\t\t\t\t\tdiagnosis: this.form.diagnosis,\r\n\t\t\t\t\t\tdrugIds: drug_id,\r\n\t\t\t\t\t\tdrugNames: drug_name,\r\n\t\t\t\t\t\tphotoIds: this.photos,\r\n\t\t\t\t\t\tconsultStatus: 2,\r\n\t\t\t\t\t\tcreateTime: '',\r\n\t\t\t\t\t\tacceptTime: '',\r\n\t\t\t\t\t\tfinishTime: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trequest({\r\n\t\t\t\t\t\turl: '/consult/add',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: finalInfo\r\n\t\t\t\t\t}).\r\n\t\t\t\t\tthen(res => {\r\n\t\t\t\t\t\tif (res.data.rspCode == 200) {\r\n\t\t\t\t\t\t\tthis.showModal = true\r\n\t\t\t\t\t\t} else if (res.data.rspCode == 999) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\ttitle: res.data.data ? res.data.data : '网络异常',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(finalInfo)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsaveImg () {\r\n\t\t\t\tthis.$refs.uUpload.upload();\r\n\t\t\t},\r\n\t\t\tsuccess (lists, name) {\r\n\t\t\t\tthis.img = false\r\n\t\t\t\tthis.deletable = false\r\n\t\t\t\tlet imgList = []\r\n\t\t\t\tfor (var index in lists) {\r\n\t\t\t\t\timgList.push(lists[index].response.data)\r\n\t\t\t\t}\r\n\t\t\t\tthis.photos = imgList.join(',')\r\n\t\t\t},\r\n\t\t\tchoose () {\r\n\t\t\t\tthis.img = true\r\n\t\t\t},\r\n\t\t\tremove (index, lists, name) {\r\n\t\t\t\tif (lists.length == 0) {\r\n\t\t\t\t\tthis.img = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.doctor {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.doctor>.doctor-info {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 90%;\r\n\t\twidth: 95%;\r\n\t}\r\n\t\r\n\t.drug {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t\r\n\t.title-item {\r\n\t\tmargin-left: 10rpx;\r\n\t\twidth: 10rpx;\r\n\t\theight: 32rpx;\r\n\t\tborder-radius: 10px;\r\n\t\tbackground: #21bd64;\r\n\t}\r\n\t\r\n\t/deep/.u-form-item--left__content--required {\r\n\t\tposition: relative;\r\n\t\tleft: 0;\r\n\t\tmargin-left: 40rpx;\r\n\t}\r\n\t\r\n\t.infoForm {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.tag {\r\n\t\tmargin-left: 15rpx; \r\n\t}\r\n\r\n\t\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.8.13.20200927\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1626776552940\n      var cssReload = require(\"D:/HBuilderX.2.8.13.20200927/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}